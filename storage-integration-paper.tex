\documentclass[conference]{IEEEtran}

\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.

\usepackage{cite, url}
% Enable the following line if you want highlighted hyperlink to citation and references
%\usepackage{hyperref}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\graphicspath{ {./figures/} }
\usepackage{textcomp}
\usepackage{xcolor}

\usepackage{cases}
\usepackage{amsthm}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}

% for sequence diagrams and trees
\usepackage{tikz}
\usepackage{pgf-umlsd}
\usepgflibrary{arrows} % for pgf-umlsd
\usepackage{verbatim}
\usepackage{float}
\usepackage[export]{adjustbox}
\usepackage{multicol, blindtext}
\usetikzlibrary{trees}

\usepackage{chngcntr}
\counterwithin{figure}{section}

% for grammar specification
\usepackage[perp]{backnaur}

% for listing grammar example
\usepackage{listings}
\usepackage{alltt}
\usepackage{fancyvrb}
\usepackage{array}
\usepackage{colortbl}
\usepackage{ctable}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{setspace}

\lstdefinelanguage{permgram} {
                morekeywords={single, array},
                morekeywords={[2]this, root},
                morekeywords={[3]accessor, none, substr},
                sensitive=true,
                morecomment=[l]{//}
}

\lstset{language=permgram,
                basicstyle={\scriptsize\singlespacing},
                keywordstyle={\footnotesize\itshape\color[rgb]{0.1,0.1,0.5}},
                keywordstyle=[2]{\footnotesize\itshape\color[rgb]{0.5,0.1,0.1}},
                keywordstyle=[3]{\footnotesize\itshape},
                tabsize=2,
                basewidth=0.48em,
                commentstyle=\color[rgb]{0.1,0.4,0.1},
                xleftmargin=0.0cm,
                captionpos=b
}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Integrity Management and Access Control of External Storages using Blockchain Technology 
	\thanks{This research is funded by KONA Software Lab, Ltd.}
}

\author{
	\IEEEauthorblockN{Hasan Mohammad Shahriar}
	\IEEEauthorblockA{\textit{Research and Development} \\
	\textit{Kona Software Lab}\\
		Dhaka, Bangladesh \\
		h.m.shahriar@konasl.com}
	\and
	\IEEEauthorblockN{Muhammad Nur Yanhaona}
	\IEEEauthorblockA{\textit{Research and Development} \\
	\textit{Kona Software Lab}\\
		Dhaka, Bangladesh \\
		nur.yanhaona@konasl.com}
}
\maketitle

\begin{abstract}
The inherent limitation of blockchain technology for storing bulky and often confidential information such as files and images is a major obstacle for the technology's adoption as a platform for real-world applications that would otherwise be greatly benefited from the technology's other offerings. As an alternative, this paper presents a novel solution for reliable and secure integration of external document storage systems such as storage clouds and data centers with a blockchain network. In this approach, each document in the external storage is tagged with some blockchain smart contract that governs user access. Consequently, the responsibility of document access control, access fee processing, integrity insurance, and user authentication remains in the hands of the blockchain network and external storage systems focus only on storing and delivering documents efficiently. The solution's reliance on the blockchain technology for various control operations related to document access means greater trust and security for these operations. At the same time, this responsibility breakdown simplifies external document storage systems' design.    
\end{abstract}

\begin{IEEEkeywords}
peer-to-peer computing, distributed information systems, document handling  
\end{IEEEkeywords}

\input{intro.tex}

\input{scope.tex}

\input{updown-proto.tex}

\input{access-control.tex}
             
\input{gateway-design.tex}
       
\section{Related Work}
\label{s-rw}
To the best of our knowledge, alternative solutions for integrating external storage systems with a blockchain network do not exist. So we describe the few blockchain based storage solutions that are published in recent years for the sake of completion.   

IPFS \cite{ipfs} is probably the most popular blockchain inspired distributed storage solution. It is basically a distributed hash table (DHT) \cite{Maymounkov:2002:KPI:646334.687801}. The content of each file in IPFS is broken into fixed size blocks and distributed in the network. The hash of a block's content uniquely identify the block in the network. Participant nodes in a IPFS network cache each others data using a Bittorrent \cite{Pouwelse:2005:BPF:2138958.2138984} inspired protocol called BitSwap. In BitSwap, each node has a balance that represents the sum of the ratios of the number of blocks from other nodes it caches compared to the number of its own blocks those other nodes cache. Nodes with large negative balances gradually become isolated in the network by their peers. This encourages a good caching behavior.

Like IPFS, Swarm \cite{swarm} is also a DHT where files are divided into chunks and distributed among the participant nodes in the network. Unlike IPFS, nodes in Swarm receive cryptocurrency payments for serving those chunks to the requester. In addition, a node can make a promise for long term storage of a chunk by issuing a promissory note in the form of a blockchain smart contract. If the node fails to meet its promise, the original owner of the chunk can submit the promissory note as an evidence of misconduct and receive a compensation payment. The integration of payment and penalty in Swarm makes it less likely than in IPFS that nodes will drop chunks.                      

Like Swarm, Storj \cite{Wilkinson14storja} storage network stores files by dividing its content as fixed sized shards and distributing those shards among the network peers. A network peer, called farmer, gains Storj coins by serving those shards on user request. Unlike Swarm, there is no built-in provision for contractual agreement between the file owner and the farmer storing a shard. Instead, the owner does periodic audits of the existence of shards using some file metadata. For safety, the metadata for conducting an audit can be stored in some secondary blockchain. Another major difference from Swarm is that all Storj chunks are encrypted by the owner before he/she send them to the farmers.         

Filecoin \cite{filecoin} seamlessly integrates data storage concerns with blockchain network maintenance by making storing of file content a prerequisite for block mining using a scheme called {\it Proof of Retrievability}. Here again a file is divided into fixed sized pieces and distributed among the network peers. In addition, a blockchain ledger is maintained by the peers that records all transactions regarding store and access requests issued by clients. There is a deterministic algorithm for choosing a small subset of existing pieces from different files whose data is used as the input for the next block mining challenge. Therefore, if a peer stores more file pieces, its chance of success in block mining increases. Consequently, peers are inclined to hoard pieces and serving them.   

All these blockchain based storage solutions have the common problem that they impose too much responsibility on a file owner for insuring the confidentiality, integrity, and long term availability of his/her file content. In addition, since pieces of a file coming from different parts of the network need to be stitched together before serving, file download latencies can be significant and unpredictable. Finally, since the loss of a single piece corrupts the entire file, all pieces must be stored with the same level of redundancy. That may increase cost of storage significantly.

\input{conclusion.tex}
 
\bibliographystyle{plain}
\bibliography{references.bib}

\end{document}
